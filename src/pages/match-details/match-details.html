<ion-header>

  <ion-navbar [color]="'primary'">
    <ion-title>{{ match.date | date:'shortDate' }}</ion-title>
  </ion-navbar>

</ion-header>


<ion-content>
  <canvas id="map"
          class="item-profile"
          text-center
          #profilePic
          [ngClass]="match.map === 'Desert_Main' ? 'miramar' : 'erangel'">
  </canvas>

  <div class="item-detail"
       padding>
    <h2>Rank #{{ match.team.stats.rank }}</h2>
    <mat-accordion>
      <mat-expansion-panel *ngFor="let teammate of match.team.teammates; let first = first"
                           [expanded]="first"
                           hideToggle="true">
        <mat-expansion-panel-header>
          <mat-panel-title>
            {{ teammate.stats.name }}
          </mat-panel-title>
        </mat-expansion-panel-header>
        <mat-list>
          <mat-list-item>
            <mat-icon matListIcon>folder</mat-icon>
            <h3 matLine> Kills </h3>
            <h3 matLine>
              {{ teammate.stats.kills }}
            </h3>
          </mat-list-item>
          <mat-list-item>
            <mat-icon matListIcon>folder</mat-icon>
            <h3 matLine> Damage Dealt </h3>
            <h3 matLine>
              {{ teammate.stats.damageDealt | number : '1.0-2' }}
            </h3>
          </mat-list-item>
          <mat-list-item>
            <mat-icon matListIcon>folder</mat-icon>
            <h3 matLine> Headshot Kills </h3>
            <h3 matLine>
              {{ teammate.stats.headshotKills }}
            </h3>
          </mat-list-item>
          <mat-accordion *ngIf="telemetry">
            <mat-expansion-panel *ngFor="let telem of telemetry[teammate.stats.name]; let first = first"
                                 [expanded]="first"
                                 hideToggle="true">
              <mat-expansion-panel-header>
                <mat-panel-title>
                  {{ telem[0].damageCauserName | damageTypePipe }}
                </mat-panel-title>
              </mat-expansion-panel-header>
              <mat-list *ngFor="let attack of telem">
                <mat-list-item>
                  <h3 matLine> {{ attack.damage | number : '1.0-2' }} </h3>
                  <h3 matLine> {{ attack.damageReason }} </h3>
                  <h3 matLine> {{ attack.victim.name }} </h3>
                </mat-list-item>
              </mat-list>
            </mat-expansion-panel>
          </mat-accordion>
        </mat-list>
      </mat-expansion-panel>
    </mat-accordion>

  </div>
</ion-content>
